<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
     integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
     crossorigin=""/>
      <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
     integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
     crossorigin="">
     </script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  </head>
  <body>
    <h1>Go => AWARE!</h1>
{{#each username as |user|}}
<div class="row align-center mb-5">
  <div class="col-md-6">
    <h2>{{user.first_name}} {{user.last_name}}</h2>
  </div>
  <div class="col-md-6">
    <h3><a href="mailto:{{user.email}}">{{user.email}}</a></h3>
  </div>
</div>

{{!-- using @index to increment the div ids for each map --}}
<div id="map{{@index}}" style="width:800px; height:500px;"></div>

{{!-- Leaflet Example Map js below: --}}
<script>
var coords = [37.69, -94.23]; // the geographic center of our map
var zoomLevel = 4; // the map scale. See: http://wiki.openstreetmap.org/wiki/Zoom_levels

// we need to provide the map with some base map tiles. There are few free options.
// we'll use Stamen Acetate, a muted base map good for overlaying data.
// if you'd like to explore other base maps, see: http://developer.mapquest.com/web/products/open/map
// if you use different tiles, be sure to update the attribution :)
var undermap = new L.tileLayer("http://tile.stamen.com/toner-lite/{z}/{x}/{y}.png");
		
		var map{{@index}} = new L.Map("map{{@index}}", { center: coords, zoom: zoomLevel })
			.addLayer(undermap);


// Load States GeoJSON using JQuery and Leaflet
$.getJSON('https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson', function(data) {
  L.geoJson(data).addTo(map{{@index}});
});
</script>

{{/each}}
  </body>
</html>
